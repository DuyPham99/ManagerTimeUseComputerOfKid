<!DOCTYPE html>
<html>

<head>
	<style type="text/css">
		table {
			border-collapse: collapse;
			width: 100%;

		}

		th,
		td {
			line-height: 25px;
			border: 1px solid black;
			padding: 5px;
			text-align: center;
		}

		th {
			background-color: pink;
		}

		h1 {
			text-align: center;
		}
	</style>
	<meta charset="utf-8">
	<title>THÔNG BÁO THỜI GIAN SỬ DỤNG MÁY TÍNH</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
	<h1>THÔNG BÁO THỜI GIAN SỬ DỤNG MÁY TÍNH</h1>
	<table class="table table-hover" id="myTable">
		<tr>
			<th>Ngày</th>
			<th>Giờ Bắt Đầu</th>
			<th onload="startTime()">Giờ Kết Thúc</th>
			<th>Thời Gian Sử Dụng</th>
			<th>Trạng Thái</th>
			<th>Chức năng</th>
		</tr>

	</table>
</body>

<script>

	function insertRowTable(param1, param2, param3, param4, param5) {
		var table = document.getElementById("myTable");
		var row = table.insertRow();

		var cell1 = row.insertCell(0);
		var cell2 = row.insertCell(1);
		var cell3 = row.insertCell(2);
		var cell4 = row.insertCell(3);
		var cell5 = row.insertCell(4);
		var cell6 = row.insertCell(5);

		cell1.innerHTML = param1;
		cell2.innerHTML = param2;
		cell3.innerHTML = param3;
		cell4.innerHTML = param4;
		if (param5.trim() == "end") {
			param5 = "Kết thúc";
		}
		cell5.innerHTML = param5;
		cell6.innerHTML = '<button>Tắt máy</button>';
	}
	$.get('data', {}, function (data) {
		for (i in data) {
			var arr = data[i].toString().split(" ");
			insertRowTable(arr[0], arr[1], arr[2], arr[3], arr[4]);
		}
	});
</script>
<!-- start tile -->
<script>
	function startTime() {
	  var today = new Date();
	  var h = today.getHours();
	  var m = today.getMinutes();
	  var s = today.getSeconds();
	  m = checkTime(m);
	  s = checkTime(s);
	  document.getElementById('txt').innerHTML =
	  h + ":" + m + ":" + s;
	  var t = setTimeout(startTime, 500);
	}
	function checkTime(i) {
	  if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
	  return i;
	}
	</script>

</html>